<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>コピーアンドペースト便利サイトスマホ版</title>
        <style>
            @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@100..900&display=swap');
            h1 {
                font-family: Noto Sans JP;
            }
            .exp {
                font-family: Noto Sans JP;
            }
            .exp a {
                text-decoration: none;
                color: #0000FF;
                font-weight: bold;
            }
            table.front {
                margin: 2%;
                width: 96%;
                table-layout: fixed;
                border-collapse: collapse;
                border: none;
            }
            table.front td {
                text-align: center;
                vertical-align: middle;
                padding: 0;
                height: 70px;
                border: solid #000000 1.5px;
                color: #FFFFFF;
            }
            table.front button {
                text-align: center;
                vertical-align: middle;
                width: 100%;
                background-color: #00000000;
                color: #0000FF;
                border: none;
                font-size: 15px;
            }
            table.front button p {
                font-size: 100%;
            }
            table.front textarea {
                 background-color: #00000000;
                 width:100%;
                 margin:0 auto;
                 font-size:15px;
                 height: 100%;
                 border: none;
            }
            /* 変化させたいクラス */
            .highlight {
                background-color: #FFEBCD;
            }
        </style>
        <!-- PWA用 manifest -->
        <link rel="manifest" href="https://moriwakiren-fucc.github.io/train-info/copy_and_paste/sp/manifest.json">
        <meta name="theme-color" content="#ffffff">
        <script>
            // サービスワーカー登録
            if ("serviceWorker" in navigator) {
                window.addEventListener("load", () => {
                    navigator.serviceWorker.register("https://moriwakiren-fucc.github.io/train-info/copy_and_paste/sp/service-worker.js")
                    .then(reg => console.log("Service Worker registered:", reg))
                    .catch(err => console.error("Service Worker failed:", err));
                });
            }
        </script>
    </head>
    <body>
        <h1>コピーアンドペースト便利サイト</h1>
        <p class="exp">　このサイトは主にiPhoneでの利便性が考慮されていますが、他の端末でも作動します。iPad／PCなどでご利用の方は<a href="https://moriwakiren-fucc.github.io/train-info/copy_and_paste/">PC版サイト</a>での利用をおすすめします。<br>　このサイトでは、変換には出てこないけど、使えると嬉しい文字をコピーできます。また、下の自由入力欄を使えば、複数の文字列を交互にコピーしたいときに毎回選択し直す手間が省けます。<br>　なお、このサイトでは一定条件のもとでは、オフラインでも利用できます。詳しくは森脇にお尋ねください。<br>　もし、不具合があれば森脇まで教えてください！</p>
<table class="front"><colgroup><col span="4" style="width:25%"></colgroup>
<tr><td id="td01"><button style="width:100%;" onclick="copyButton('copytxt01'); highlightCell('td01')"><p id="copytxt01">¹</p></button></td><td id="td02"><button style="width:100%;" onclick="copyButton('copytxt02'); highlightCell('td02')"><p id="copytxt02">²</p></button></td><td id="td03"><button style="width:100%;" onclick="copyButton('copytxt03'); highlightCell('td03')"><p id="copytxt03">³</p></button></td><td id="td04"><button style="width:100%;" onclick="copyButton('copytxt04'); highlightCell('td04')"><p id="copytxt04">⁴</p></button></td></tr>
<tr><td id="td05"><button style="width:100%;" onclick="copyButton('copytxt05'); highlightCell('td05')"><p id="copytxt05">⁵</p></button></td><td id="td06"><button style="width:100%;" onclick="copyButton('copytxt06'); highlightCell('td06')"><p id="copytxt06">⁶</p></button></td><td id="td07"><button style="width:100%;" onclick="copyButton('copytxt07'); highlightCell('td07')"><p id="copytxt07">⁷</p></button></td><td id="td08"><button style="width:100%;" onclick="copyButton('copytxt08'); highlightCell('td08')"><p id="copytxt08">⁸</p></button></td></tr>
<tr><td id="td09"><button style="width:100%;" onclick="copyButton('copytxt09'); highlightCell('td09')"><p id="copytxt09">⁹</p></button></td><td id="td10"><button style="width:100%;" onclick="copyButton('copytxt10'); highlightCell('td10')"><p id="copytxt10">⁰</p></button></td><td id="td11"><button style="width:100%;" onclick="copyButton('copytxt11'); highlightCell('td11')"><p id="copytxt11">⁺</p></button></td><td id="td12"><button style="width:100%;" onclick="copyButton('copytxt12'); highlightCell('td12')"><p id="copytxt12">⁻</p></button></td></tr>
<tr><td id="td13"><button style="width:100%;" onclick="copyButton('copytxt13'); highlightCell('td13')"><p id="copytxt13">₁</p></button></td><td id="td14"><button style="width:100%;" onclick="copyButton('copytxt14'); highlightCell('td14')"><p id="copytxt14">₂</p></button></td><td id="td15"><button style="width:100%;" onclick="copyButton('copytxt15'); highlightCell('td15')"><p id="copytxt15">₃</p></button></td><td id="td16"><button style="width:100%;" onclick="copyButton('copytxt16'); highlightCell('td16')"><p id="copytxt16">₄</p></button></td></tr>
<tr><td id="td17"><button style="width:100%;" onclick="copyButton('copytxt17'); highlightCell('td17')"><p id="copytxt17">₅</p></button></td><td id="td18"><button style="width:100%;" onclick="copyButton('copytxt18'); highlightCell('td18')"><p id="copytxt18">₆</p></button></td><td id="td19"><button style="width:100%;" onclick="copyButton('copytxt19'); highlightCell('td19')"><p id="copytxt19">₇</p></button></td><td id="td20"><button style="width:100%;" onclick="copyButton('copytxt20'); highlightCell('td20')"><p id="copytxt20">₈</p></button></td></tr>
<tr><td id="td21"><button style="width:100%;" onclick="copyButton('copytxt21'); highlightCell('td21')"><p id="copytxt21">₉</p></button></td><td id="td22"><button style="width:100%;" onclick="copyButton('copytxt22'); highlightCell('td22')"><p id="copytxt22">₀</p></button></td><td id="td23"><button style="width:100%;" onclick="copyButton('copytxt23'); highlightCell('td23')"><p id="copytxt23">₊</p></button></td><td id="td24"><button style="width:100%;" onclick="copyButton('copytxt24'); highlightCell('td24')"><p id="copytxt24">₋</p></button></td></tr>
<tr><td id="td25"><button style="width:100%;" onclick="copyButton('copytxt25'); highlightCell('td25')"><p id="copytxt25">α</p></button></td><td id="td26"><button style="width:100%;" onclick="copyButton('copytxt26'); highlightCell('td26')"><p id="copytxt26">β</p></button></td><td id="td27"><button style="width:100%;" onclick="copyButton('copytxt27'); highlightCell('td27')"><p id="copytxt27">θ</p></button></td><td id="td28"><button style="width:100%;" onclick="copyButton('copytxt28'); highlightCell('td28')"><p id="copytxt28">𝒶</p></button></td></tr>
<tr><td id="td29"><button style="width:100%;" onclick="copyButton('copytxt29'); highlightCell('td29')"><p id="copytxt29">𝒷</p></button></td><td id="td30"><button style="width:100%;" onclick="copyButton('copytxt30'); highlightCell('td30')"><p id="copytxt30">𝒸</p></button></td><td id="td31"><button style="width:100%;" onclick="copyButton('copytxt31'); highlightCell('td31')"><p id="copytxt31">𝒹</p></button></td><td id="td32"><button style="width:100%;" onclick="copyButton('copytxt32'); highlightCell('td32')"><p id="copytxt32">𝓅</p></button></td></tr>
<tr><td id="td33"><button style="width:100%;" onclick="copyButton('copytxt33'); highlightCell('td33')"><p id="copytxt33">𝓆</p></button></td><td id="td34"><button style="width:100%;" onclick="copyButton('copytxt34'); highlightCell('td34')"><p id="copytxt34">𝓍</p></button></td><td id="td35"><button style="width:100%;" onclick="copyButton('copytxt35'); highlightCell('td35')"><p id="copytxt35">𝓎</p></button></td><td id="td36"><button style="width:100%;" onclick="copyButton('copytxt36'); highlightCell('td36')"><p id="copytxt36">𝓏</p></button></td></tr>
<tr><td id="td37"><button style="width:100%;" onclick="copyButton('copytxt37'); highlightCell('td37')"><p id="copytxt37">'</p></button></td><td id="td38"><button style="width:100%;" onclick="copyButton('copytxt38'); highlightCell('td38')"><p id="copytxt38">"</p></button></td><td id="td39" colspan="2"><button style="width:100%;" onclick="copyButton('copytxt39'); highlightCell('td39')"><p id="copytxt39"></p></button></td></tr>
<tr><td id="td40" colspan="3" style="border-right: dashed #000000 1.5px;"><textarea id="copytxt40" placeholder="自由入力" onfocus="this.select()" onclick="event.stopPropagation()"></textarea></td><td id="td41"><button onclick="copyButton('copytxt40'); highlightCell('td41')">コピー</button></td></tr>
<tr><td id="td42" colspan="3" style="border-right: dashed #000000 1.5px;"><textarea id="copytxt42" placeholder="自由入力" onfocus="this.select()" onclick="event.stopPropagation()"></textarea></td><td id="td43"><button onclick="copyButton('copytxt42'); highlightCell('td43')">コピー</button></td></tr>
<tr><td id="td44" colspan="3" style="border-right: dashed #000000 1.5px;"><textarea id="copytxt44" placeholder="自由入力" onfocus="this.select()" onclick="event.stopPropagation()"></textarea></td><td id="td45"><button onclick="copyButton('copytxt44'); highlightCell('td45')">コピー</button></td></tr>
</table>
        <script>
            function highlightCell(elementId) {
                const td = document.getElementById(elementId);
                td.classList.add("highlight");
                setTimeout(() => {
                    td.classList.remove("highlight");
                }, 300); // 0.3秒後に元に戻す
            }
            function copyButton(elementId) {
                const element = document.getElementById(elementId);
                let text = "";

                    if (element.tagName === "INPUT" || element.tagName === "TEXTAREA") {
                    text = element.value; // 入力欄は value をコピー（改行も含む）
                } else {
                    text = element.textContent; // 普通の要素は textContent
                }

                if (text) {
                    navigator.clipboard.writeText(text.replace(/\r?\n/g, "\n")); // 改行を統一してコピー
                    console.log("Copied:", JSON.stringify(text));
                }
            }
            // テキストエリアの内部で Enter+Shift の動作を制御
            document.querySelectorAll("textarea").forEach(textarea => {
            textarea.addEventListener("keydown", function(event) {
                if (event.key === "Enter" && event.shiftKey) {
                    event.preventDefault();
                    this.blur();
                }
            });
            });
        </script>
    </body>
</html>
